<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- development version, includes helpful console warnings -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <link rel="stylesheet" href="css/style.css">
  <title>Document</title>
</head>

<body>
  <div id="app">
    <h1 class="main-title">Social Posts</h1>
    <div id="container" class="posts-list">
      <div v-for="(post, index) in posts" class="post">
        <div class="post__header">
          <div class="post-meta">
            <div class="post-meta__icon">
              <!-- <img class="profile-pic" v-bind:src="'https://unsplash.it/' + post.author.image" :alt="post.author.name"> -->
              <img v-if="post.author.image" class="profile-pic" v-bind:src="`https://unsplash.it/${post.author.image}`"
                :alt="post.author.name">

              <div v-else class="profile-pic-default">
                {{ initials(post.author.name, index) }}
              </div>
            </div>
            <div class="post-meta__data">
              <div class="post-meta__author">{{ post.author.name }}</div>
              <div class="post-meta__time">{{ post.created }}</div>
            </div>
          </div>
        </div>
        <div class="post__text">{{ post.content }}</div>
        <div class="post__image">
          <img :src="`https://unsplash.it/${post.media}`" alt="">
        </div>
        <div class="post__footer">
          <div class="likes js-likes">
            <div class="likes__cta">
              <!-- <a class="like-button js-like-button" :class="(postsLiked.includes(index)) ? 'like-button--liked' : ''"
                href="#" data-postid="1"> -->
              <a @click="addLike(index, $event)" class="like-button js-like-button" :class="isLiked(index)" href="#"
                data-postid="1">
                <i class="like-button__icon fas fa-thumbs-up" aria-hidden="true"></i>
                <span class="like-button__label">Mi Piace</span>
              </a>
            </div>
            <div class="likes__counter">
              Piace a <b id="like-counter-1" class="js-likes-counter">{{ post.likes }}</b> persone
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  <script src="js/script.js"></script>
</body>

</html>